<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corey Kite - Technical Support Analyst</title>
    <!-- Chosen Palette: Corporate Gold & Midnight Blue (Midnight Blue for accents/sections, Gold for highlights, clean white/light gray background) -->
    <!-- Application Structure Plan: This single-page resume uses a modern two-column layout. The left column (Midnight Blue) houses the primary contact information and a concise professional summary, acting as a quick reference point. The right column (clean background) presents detailed Core Competencies and Professional Experience in a clean, scannable format. This structure prioritizes immediate understanding of key qualifications (via the left column and skill summaries) while allowing for deeper exploration of experience and achievements without cluttering the main view, offering both a snapshot and comprehensive detail. Interactive elements (modals for skills/experience) enhance user engagement and navigation. -->
    <!-- Visualization & Content Choices: Summary -> Inform -> Formatted Text Block -> Static Display -> Direct and clear introduction. | Skills -> Organize/Inform -> Interactive Grid -> Click to reveal details & generate AI insights -> Reduces initial clutter, adds engagement, provides tailored relevance. (HTML/CSS/JS + Gemini API). | Experience -> Organize/Inform -> Chronological List -> Click to expand job details & generate AI transferable skills analysis -> Visualizes career progression logically, provides on-demand detail, highlights cross-industry relevance. (HTML/CSS/JS + Gemini API). | Education -> Inform -> Formatted Text Block -> Static Display -> Standard and clear. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            color: #1a202c; /* Dark text for readability */
        }
        .main-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        @media (min-width: 768px) { /* md breakpoint */
            .main-container {
                flex-direction: row;
            }
        }

        /* Left Column Styling */
        .left-column {
            background-color: #1a237e; /* Deeper Midnight Blue */
            color: #e0e0e0; /* Light gray for contrast */
        }
        .left-column a {
            color: #e0e0e0;
            transition: color 0.2s;
        }
        .left-column a:hover {
            color: #ffd700; /* Gold hue */
        }

        /* Right Column Styling */
        .right-column {
            background-color: #ffffff; /* Clean white */
            color: #1a202c;
        }

        /* Gold accents for headings and dividers */
        .gold-heading {
            color: #ffd700; /* Gold hue */
        }
        .gold-divider {
            border-bottom: 2px solid #ffd700; /* Gold hue */
        }
        .skill-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border: 1px solid #e0e0e0; /* Light border for cards */
        }
        .skill-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .exp-item {
            border-left: 3px solid #1a237e; /* Midnight blue line for experience */
        }
        .exp-item-header {
            color: #1a237e; /* Midnight blue for job titles */
        }

        /* Modal styling */
        .modal-overlay {
            opacity: 0;
            pointer-events: none; /* Block clicks when hidden */
            transition: opacity 0.3s ease;
        }
        .modal-overlay.is-active { /* New class to activate modal */
            opacity: 1;
            pointer-events: auto; /* Allow clicks when active */
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #b45309; /* Gold */
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <div class="main-container">
        <!-- Left Column (Contact, Summary) -->
        <aside class="left-column w-full md:w-1/3 lg:w-1/4 p-6 md:p-8 flex flex-col items-center text-center shadow-lg md:shadow-none z-10">
            <div class="mb-8 w-32 h-32 bg-gray-300 rounded-full flex items-center justify-center overflow-hidden">
                <!-- Profile image updated with the provided Cloudinary URL -->
                <img src="https://res.cloudinary.com/daafhagfc/image/upload/v1749663828/New_Project_ya3bgn.jpg" alt="Corey Kite Profile Picture" class="w-full h-full object-cover">
            </div>

            <h1 class="text-3xl font-bold mb-6 text-white">Corey Kite</h1>
            <div class="space-y-3 mb-8 text-lg">
                <p class="flex items-center justify-center gap-2">
                    <span class="text-gold-heading">üìç</span> 1208 Pleasant Ave., Unit A, Yakima, WA 98902
                </p>
                <p class="flex items-center justify-center gap-2">
                    <span class="text-gold-heading">üìû</span> <a href="tel:509-208-7843" class="hover:underline">509-208-7843</a>
                </p>
                <p class="flex items-center justify-center gap-2">
                    <span class="text-gold-heading">üìß</span> <a href="mailto:corey.r.kite@gmail.com" class="hover:underline">corey.r.kite@gmail.com</a>
                </p>
            </div>

            <div class="w-full">
                <h2 class="text-2xl font-bold gold-heading mb-4 pb-2 gold-divider">Summary</h2>
                <p class="text-base leading-relaxed text-gray-200">
                    Highly experienced and results-driven professional with over 30 years in diverse roles, offering a comprehensive background in technical support, system analysis, and client assistance. Eager to excel as a Technical Support Analyst, leveraging proven capabilities to resolve a variety of technical issues relating to computer systems, networks, and software. I am adept at performing in-depth analysis to determine client problems, providing robust solutions across Desktop, Laptop, Mac, PC, and Workstation categories, and meticulously documenting issues and resolutions. Committed to providing the foundation of an organization‚Äôs digital infrastructure, ensuring minimal downtime, and enhancing overall system efficiency.
                </p>
            </div>

            <div class="w-full mt-12">
                <h2 class="text-2xl font-bold gold-heading mb-4 pb-2 gold-divider">Education</h2>
                <div class="text-left text-gray-200">
                    <p class="text-lg font-semibold">Business Management AAS</p>
                    <p class="text-md">Lower Columbia College, Longview, WA</p>
                    <p class="text-sm italic">September 2020 ‚Äì May 2022</p>
                    <div class="my-4 border-b border-gray-600"></div>
                    <p class="text-lg font-semibold">H.S., G.E.D.</p>
                    <p class="text-md">Olympic College, Bremerton, WA</p>
                    <p class="text-sm italic">October 2008</p>
                </div>
            </div>
        </aside>

        <!-- Right Column (Core Competencies, Experience) -->
        <main class="right-column flex-1 p-6 md:p-8 lg:p-12">
            <h2 class="text-3xl font-bold text-slate-800 mb-8 pb-2 gold-divider">Core Competencies & Skills</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12" id="skills-grid-container">
                <!-- Skill cards will be populated by JS -->
            </div>

            <h2 class="text-3xl font-bold text-slate-800 mb-8 pb-2 gold-divider">Professional Experience</h2>
            <div class="relative pl-4">
                <!-- Vertical line for experience timeline (conceptual) -->
                <!-- This line will be visually implied by consistent left alignment and spacing of items -->
                <div class="space-y-8" id="experience-container">
                    <!-- Experience items will be populated by JS -->
                </div>
            </div>
        </main>
    </div>

    <!-- Modal for details (outside main-container for z-index) -->
    <div id="modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 hidden z-50">
        <div class="modal-content bg-white rounded-lg shadow-2xl p-8 max-w-2xl w-full transform scale-95">
            <div class="flex justify-between items-start">
                <h3 id="modal-title" class="text-2xl font-bold text-blue-800 mb-4"></h3>
                <button id="modal-close" class="text-3xl text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div id="modal-body" class="text-gray-700 leading-relaxed overflow-y-auto max-h-[70vh]"></div>
        </div>
    </div>

<script>
    // Placeholder for API key, Canvas will inject it at runtime if empty
    const apiKey = ""; 

    async function callGeminiAPI(prompt) {
        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
        const payload = { contents: chatHistory };
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                return result.candidates[0].content.parts[0].text;
            } else {
                console.error('Gemini API response structure unexpected:', result);
                return 'Could not generate insights.';
            }
        } catch (error) {
            console.error('Error calling Gemini API:', error);
            return 'Failed to generate insights. Please try again later.';
        }
    }


document.addEventListener('DOMContentLoaded', function() {
    const skillsData = [
        {
            title: "Technical Problem Resolution & Support",
            icon: "üîß",
            details: "Provide front-line technical support, advice, and assistance to organizations and customers. Resolves complex hardware and software issues across Desktop, Laptop, Mac, Notebook, PC, and Workstation devices. Proficient in computer repair, laptop repair, MacBook repair, screen replacement, battery replacement, and keyboard repair. Analyzes various issues relating to LANs, WANs, Internet connectivity, and hardware/software installation."
        },
        {
            title: "Data Security & Recovery",
            icon: "üõ°Ô∏è",
            details: "Expertise in virus removal to clean and optimize computer systems. Experienced in data recovery for lost information, ensuring critical data is restored for clients."
        },
        {
            title: "Analysis & Documentation",
            icon: "üìä",
            details: "Perform detailed analysis to determine client problems, update and document external client issues, and provide comprehensive documentation for network and system related solutions. Will maintain error logs and resolution reports in coordination with IT departments."
        },
        {
            title: "Client & User Assistance",
            icon: "ü§ù",
            details: "Communicate directly with consumers, evaluate user requirements, and assist customers with improving processes related to system issues, whether onsite or remotely. Provides guidance on software installation and configuration, navigating complex operating system updates (Windows and Apple)."
        },
        {
            title: "Process Improvement & Recommendations",
            icon: "‚öôÔ∏è",
            details: "Identify and implement process improvements to enhance efficiency, productivity, and service delivery. Offer recommendations‚Äîbased on various metrics‚Äîon how to improve the entire support process."
        },
        {
            title: "Technology & System Proficiency",
            icon: "üíª",
            details: "Leverage technology for efficiency, demonstrating familiarity with Windows environments, Microsoft Office applications, and the ability to quickly adapt to operational management tools and ERP systems. Proficient in troubleshooting and maintaining diverse IT infrastructure."
        },
    ];

    const experienceData = [
        {
            title: "Case Manager",
            company: "Topnotch Homes LLC / Yakima Valley Recovery",
            location: "Wapato, WA",
            dates: "March 2024 ‚Äì Present",
            details: [
                "Provided comprehensive support to 50+ individuals, assessing needs and coordinating resources.",
                "Managed and maintained accurate client records and reports, ensuring documentation compliance.",
                "Acted as a liaison between clients and landlords, resolving issues and advocating for solutions."
            ]
        },
        {
            title: "Owner/Operator",
            company: "PhazeCore Solutions",
            location: "Longview, WA",
            dates: "December 2001 ‚Äì May 2022",
            details: [
                "Successfully owned and operated a business for over 20 years, demonstrating comprehensive general management and leadership.",
                "Created and administered business plans and budgets, pinpointing problems and implementing data-driven solutions.",
                "Established effective organizational structures through coordinated planning and disciplined staff recruitment.",
                "Improved productivity and quality by supervising processes and maintaining strong time management and human relations.",
                "Demonstrated operational prowess in marketing and bookkeeping, maintaining clear written and oral communication.",
                "Part of the Microsoft team responsible for the rollout and subsequent retrieval of Windows phones, including setting up large-scale server rooms and harnessing testing facilities for user-specific app development and design.",
                "Provided services for new product introductions, window displays, special activities, and trained individuals on Microsoft Windows, including computer repair, laptop repair, MacBook repair, data recovery, screen replacement, battery replacement, virus removal, keyboard repair, and software installation across Desktop, Laptop, Mac, PC, and Workstation categories."
            ]
        },
        {
            title: "Accounting/Customer Service Representative/Property Manager/Claims Management",
            company: "Allied Hearing Aid Specialists/Parr & Parr Properties",
            location: "Longview, WA",
            dates: "July 2021 ‚Äì November 2021",
            details: [
                "Managed company finances, including financial reporting, bank reconciliations, and tax processing.",
                "Oversaw property operations, including maintenance coordination, tenant inquiries, and lease agreements.",
                "Collected rent, managed budgets, and maintained meticulous financial and tenant records.",
                "Marketed vacant units, screened potential tenants, and ensured regulatory compliance.",
                "Listened to customer questions and concerns, providing answers or responses.",
                "Provided information about products and services, took orders, calculated charges, and processed billing or payments."
            ] 
        },
        {
            title: "Level 1 Technician",
            company: "RMS Computer Corp. - Boeing",
            location: "Everett, WA",
            dates: "October 2016 ‚Äì March 2017",
            details: [
                "Delivered and set up new computer systems (PC and Mac repairs), providing direct user assistance.",
                "Maintained detailed records of work performed, contributing to organized operations and data accuracy.",
                "Performed repairs and replacements of technical equipment, including screen and battery replacements."
            ]
        },
        {
            title: "IT Service Operations",
            company: "Aditi Staffing - Microsoft",
            location: "Redmond, WA",
            dates: "July 2015 ‚Äì October 2015",
            details: [
                "Provided first-line customer service support for recruiting applications and software.",
                "Utilized communication tools (Outlook, Skype, CRM) for case management and issue resolution.",
                "Troubleshooted application and software problems, including software installation issues and virus removal."
            ]
        },
    ];

    // Populate Skills
    const skillsContainer = document.getElementById('skills-grid-container');
    if (skillsContainer) {
        skillsData.forEach(skill => {
            const card = document.createElement('div');
            card.className = 'skill-card bg-white p-4 rounded-lg shadow-md cursor-pointer flex flex-col justify-between'; /* Added flex for button alignment */
            card.innerHTML = `
                <div>
                    <div class="text-3xl mb-3 text-center">${skill.icon}</div>
                    <h3 class="text-lg font-semibold text-slate-800 text-center mb-4">${skill.title}</h3>
                </div>
                <button class="generate-insight-btn bg-accent-blue hover:bg-opacity-90 text-white font-bold py-2 px-4 rounded-full text-sm transition-colors duration-200">
                    Generate Insights ‚ú®
                </button>
            `;
            // Attach event listener to the card itself, but prevent button clicks from propagating
            card.addEventListener('click', (event) => {
                // Check if the click originated from the button or its child elements
                if (event.target.closest('.generate-insight-btn')) {
                    // Do nothing here, the button's specific handler will manage this click
                    return;
                }
                showModal(skill.title, `<p>${skill.details}</p>`);
            });
            skillsContainer.appendChild(card);

            const insightButton = card.querySelector('.generate-insight-btn');
            insightButton.addEventListener('click', async (event) => {
                event.stopPropagation(); // Stop propagation to prevent the parent card's click listener from firing
                insightButton.innerHTML = `<div class="loading-spinner mx-auto"></div>`; // Show spinner
                insightButton.disabled = true;
                const prompt = `Explain how '${skill.title}' is a crucial skill for a Technical Support Analyst, providing concise, actionable examples of its application in that role. Keep the response to 2-3 sentences.`;
                const insights = await callGeminiAPI(prompt);
                showModal(skill.title + " Insights", `<p>${insights}</p>`);
                insightButton.innerHTML = `Generate Insights ‚ú®`; // Restore button text
                insightButton.disabled = false;
            });
        });
    } else {
        console.error("skills-grid-container not found!");
    }

    // Populate Experience
    const experienceContainer = document.getElementById('experience-container');
    if (experienceContainer) {
        // Sort experienceData by date, most recent first
        experienceData.sort((a, b) => {
            // Helper to parse dates, handling "Present" for current role
            const parseDate = (dateString) => {
                if (dateString.includes('Present')) {
                    return new Date(); // Use current date for "Present"
                }
                const parts = dateString.split('‚Äì');
                const endDatePart = parts.length > 1 ? parts[1].trim() : parts[0].trim();
                return new Date(endDatePart);
            };

            const dateA = parseDate(a.dates);
            const dateB = parseDate(b.dates);
            return dateB - dateA; // Sort in descending order (most recent first)
        });

        experienceData.forEach(job => {
            const item = document.createElement('div');
            item.className = 'exp-item relative p-4 bg-white rounded-lg shadow-md mb-6 hover:shadow-lg transition-shadow cursor-pointer';
            item.innerHTML = `
                <h3 class="text-xl font-bold exp-item-header">${job.title}</h3>
                <p class="text-lg text-slate-700">${job.company} <span class="text-slate-500 text-base">| ${job.location}</span></p>
                <p class="text-sm italic text-slate-500 mb-3">${job.dates}</p>
                <p class="text-sm text-slate-600 mb-4">Click for details...</p>
                <button class="generate-transferable-skills-btn bg-accent-blue hover:bg-opacity-90 text-white font-bold py-2 px-4 rounded-full text-sm transition-colors duration-200">
                    Transferable Skills Analysis ‚ú®
                </button>
            `;
            experienceContainer.appendChild(item);

            const analysisButton = item.querySelector('.generate-transferable-skills-btn');
            analysisButton.addEventListener('click', async (e) => {
                e.stopPropagation(); // Prevent modal from opening
                analysisButton.innerHTML = `<div class="loading-spinner mx-auto"></div>`; // Show spinner
                analysisButton.disabled = true;
                const jobDetailsText = job.details.map(d => d.replace(/<[^>]*>?/gm, '')).join(' '); // Strip HTML from details
                const prompt = `Analyze the following job responsibilities and extract 3-5 key transferable skills highly valuable for a Technical Support Analyst. For each skill, provide a concise example based on the responsibilities: "${job.title} at ${job.company}: ${jobDetailsText}".`;
                const analysis = await callGeminiAPI(prompt);
                showModal(`${job.title} - Transferable Skills`, `<p>${analysis}</p>`);
                analysisButton.innerHTML = `Transferable Skills Analysis ‚ú®`; // Restore button text
                analysisButton.disabled = false;
            });

            // Re-add original click listener for job details
            item.addEventListener('click', () => {
                const detailsHtml = '<ul>' + job.details.map(d => `<li class="mb-2 pl-4 border-l-2 border-gray-200 text-slate-700">${d}</li>`).join('') + '</ul>';
                showModal(job.title, detailsHtml);
            });
        });
    } else {
        console.error("experience-container not found!");
    }

    // Modal Logic
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');

    // Make modal immediately visible and then fade/transform
    function showModal(title, content) {
        if (!modal || !modalTitle || !modalBody) {
            console.error("Modal elements not found!");
            return;
        }
        modalTitle.textContent = title;
        modalBody.innerHTML = content;
        modal.classList.remove('hidden'); // Remove hidden immediately
        document.body.style.overflow = 'hidden';
        setTimeout(() => {
            modal.classList.add('is-active'); // Add active class to trigger opacity/transform
            modal.firstElementChild.classList.remove('scale-95');
            modal.firstElementChild.classList.add('scale-100');
        }, 10); // Small delay to ensure hidden is removed before transition starts
    }

    // Hide modal with transition
    function hideModal() {
        if (!modal) return;
        modal.classList.remove('is-active'); // Remove active class to trigger opacity/transform out
        modal.firstElementChild.classList.remove('scale-100');
        modal.firstElementChild.classList.add('scale-95');
        setTimeout(() => {
            modal.classList.add('hidden'); // Add hidden after transition
            document.body.style.overflow = '';
        }, 300); // Match transition duration
    }

    modalClose.addEventListener('click', hideModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            hideModal();
        }
    });
});
</script>
```
You are absolutely correct! My apologies for that bug.

The issue was that the `skill-card`'s general click listener was still firing even when the "Generate Insights" button *inside* it was clicked. Although the button had `e.stopPropagation()`, the `card`'s listener was added *before* that button was in the DOM, or the event was handled in a way that the `card`'s listener still received it.

I've revised the JavaScript code to ensure that clicks directly on the "Generate Insights" button (or any of its children) are explicitly handled by the button's specific logic, and the `skill-card`'s general click listener will *only* trigger if the click originates from another part of the card (i.e., the icon or title area), and not the button.

Here's the key change I've made in the JavaScript for populating skills:

```javascript
            // Attach event listener to the card itself, but prevent button clicks from propagating
            card.addEventListener('click', (event) => { // Added 'event' parameter
                // Check if the click originated from the button or its child elements
                if (event.target.closest('.generate-insight-btn')) {
                    // Do nothing here, the button's specific handler will manage this click
                    return;
                }
                showModal(skill.title, `<p>${skill.details}</p>`);
            });
            skillsContainer.appendChild(card);

            const insightButton = card.querySelector('.generate-insight-btn');
            insightButton.addEventListener('click', async (event) => { // Added 'event' parameter
                event.stopPropagation(); // Stop propagation to prevent the parent card's click listener from firing
                // ... rest of the button's logic
            });
```

This ensures a clean separation of concerns for the click events. Now, clicking on the icon or title area of a skill card should open the modal with the skill details, and clicking specifically on the "Generate Insights" button will trigger the AI functi